# Render Deployment Guide

## Step 1: Push to GitHub
```bash
git init
git add .
git commit -m "Initial commit"
git remote add origin <your-github-repo-url>
git push -u origin main
```

## Step 2: Deploy on Render

1. Go to [render.com](https://render.com) and sign in
2. Click "New +" → "Blueprint"
3. Connect your GitHub repository
4. Render will auto-detect `render.yaml`
5. Click "Apply"

## Step 3: Set Environment Variables

### Backend Service (`foundee-backend`)
Go to service → Environment and add:

```
DATABASE_URL=<auto-populated by Render>
SECRET_KEY=<auto-generated>
FRONTEND_URL=https://yourdomain.com
GOOGLE_CLIENT_ID=<your-google-client-id>
GOOGLE_CLIENT_SECRET=<your-google-client-secret>
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=<your-email>
SMTP_PASSWORD=<your-app-password>
EMAIL_FROM=<your-email>
```

### Frontend Service (`foundee-frontend`)
```
REACT_APP_API_URL=https://foundee-backend.onrender.com
REACT_APP_GOOGLE_CLIENT_ID=<your-google-client-id>
```

## Step 4: Configure GoDaddy DNS

1. Log into GoDaddy
2. Go to your domain → DNS Management
3. Add/Edit these records:

### For Frontend (www and root domain)
```
Type: CNAME
Name: www
Value: foundee-frontend.onrender.com
TTL: 600 seconds

Type: A
Name: @
Value: <Get from Render: Settings → Custom Domain → IP addresses>
TTL: 600 seconds
```

### For Backend API (optional subdomain)
```
Type: CNAME
Name: api
Value: foundee-backend.onrender.com
TTL: 600 seconds
```

## Step 5: Add Custom Domain in Render

### Frontend Service:
1. Go to `foundee-frontend` → Settings → Custom Domain
2. Add: `yourdomain.com` and `www.yourdomain.com`
3. Verify DNS

### Backend Service (if using api subdomain):
1. Go to `foundee-backend` → Settings → Custom Domain
2. Add: `api.yourdomain.com`
3. Verify DNS

## Step 6: Update Environment Variables

Update frontend env var:
```
REACT_APP_API_URL=https://api.yourdomain.com
```

Update backend env var:
```
FRONTEND_URL=https://yourdomain.com
```

## Step 7: Update Google OAuth

1. Go to [Google Cloud Console](https://console.cloud.google.com)
2. APIs & Services → Credentials
3. Edit OAuth 2.0 Client
4. Add authorized origins:
   - `https://yourdomain.com`
   - `https://api.yourdomain.com`
5. Add redirect URIs:
   - `https://yourdomain.com`

## Troubleshooting

- **503 Error**: Service starting, wait 2-3 minutes
- **CORS Error**: Check FRONTEND_URL in backend matches actual domain
- **Database Error**: Ensure migrations ran (`alembic upgrade head`)
- **Build Failed**: Check logs in Render dashboard

## Monitoring

- View logs: Render Dashboard → Service → Logs
- Health check: `https://api.yourdomain.com/health`
- Root endpoint: `https://api.yourdomain.com/`

